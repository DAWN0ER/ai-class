> 现在是2024年12月11日，这个方案有待更新，暂时没有参考性。

# 框架设计方案

2021010913010 杨驷航

## 基础信息

研究课题：基于大模型 AI 智能体的小班教学方法研究

~~部署大模型神经网络~~，基于其构建多个 AI 智能体，形成教师-学生-助教之间的教学互动，并与真实小班教学对比，从而研究小班教学的教学方法和策略。

## 前期准备

课程选择：通信电路与系统2024

参考资料（知识库）：教材，PPT，~~多模态材料？~~

AI 平台：阿里云百炼平台

模型：

| 旗舰模型                   | 通义千问-Max               | 通义千问-Plus        | 通义千问-Turbo                 | 通义千问-Long                                |
| -------------------------- | -------------------------- | -------------------- | ------------------------------ | -------------------------------------------- |
| 特点                       | 适合复杂任务，推理能力最强 | 效果、速度、成本均衡 | 适合简单任务，速度快、成本极低 | 适合大规模文本分析，效果与速度均衡、成本较低 |
| API 调用模型名（稳定版本） | qwen-max                   | qwen-plus            | qwen-turbo                     | qwen-long                                    |
| 最大上下文长度（Token 数） | 32,768                     | 131,072              | 1,000,000                      | 10,000,000                                   |
| 最低输入价格（每千 Token） | 0.0024 元                  | 0.0008 元            | 0.0003 元                      | 0.0005 元                                    |
| 最低输出价格（每千 Token） | 0.0096 元                  | 0.002 元             | 0.0006 元                      | 0.002 元                                     |

参考资料：

- 阿里云百炼文档

>  百炼推荐您在考虑使用文本生成模型调优前先尝试使用 Prompt 工程（Prompt Engineering）和插件调用（Function Calling）定制化您的应用，模型调优也通常作为改进模型表现“最后的手段”。

- [十篇关于 AI-agent 的论文](https://deepgram.com/learn/top-arxiv-papers-about-ai-agents)
- 了解 LLM 在数学逻辑上的限制：[GSM-Symbolic: Understanding the Limitations of Mathematical Reasoning in Large Language Models](https://arxiv.org/abs/2410.05229)

## 关于 AI-agent

本质上：Prompt 工程 + 特定知识库和上下文

行为上：Role-Play

能力上：有数学推理能力，但是很差，具备长期记忆能力，简而言之是一个**强记忆和检索能力，弱逻辑和推理能力**的系统。

具备功能：环境感知--虚拟环境下的感知和**交互**；行为模拟，目前是 AI-Agent 表现最好的方向。

对常人学习过程的仿真程度：知识学习上效果不明显，但是行为策略上可以很大程度模仿。

### 选择模型

多模态模型和文本对话模型的选择：**文本对话模型**，因为多模态模型的性能（包括上下文记忆和逻辑推理）没有那么好。

模型需要满足长上下文的需求，在一次上下文的对话中完成一次教学实验。

最后选择：Qwen-Long

### 知识库选择

文本知识库：教材，PPT（文字提取）

  - 教师：携带知识库，在一个对话上下文里面完成一次实验。
  - 学生：没有知识库，在一个对话里上下文记忆所有内容，完成教学实验。

### 教学计划

流程化，编写好教学流程，固定执行。

### 角色设计和 Prompt

只涉及 Teacher 和 Student 两个角色，详细见 character.py 文件

> 理由：本质区分为有知识库和无知识库两种角色，有知识库的角色行为上可以是老师，助教，专家的集合体。

超参数：课时，教学大纲，用 system 的角色带入。

自主模拟遗忘曲线，曲线为指数函数。

THULAC 分词器，对上下文中的 token 替换抹除掉来模拟遗忘。

学生的学习成果评判标准：首先让老师自己去做一遍试题，然后再让学生去做一遍试题，让老师去评价和打分。

Prompt 依然更新中......

## 程序设计

设计为两个部分：自动模拟流程 + 日志采集 replay 可视化

程序基础流程绘制中...... 详见`实验流程.drawio`