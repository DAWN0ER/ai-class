# 仿真AI班级交互测试

## 基本信息：
  
测试代码文件：`code/main_lab/mini_pre_lab.py`
实验日志目录：`logs/`

### 1. 开机测试

测试内容和目标：
1. 整个AI班级的正确运转，程序没有Bug

测试参数：
 - 教材：深度学习.pdf
 - 班级设置：
   - Teacher 李天名
   - Student('林子涵',0.1,50)
   - Student('徐欣怡',0.1,50)
   - Student('李泽明',0.1,50)
   - Student('吴悠远',0.1,50)
   - Student('钱程远',0.1,50)
   - Student('陈思思',0.1,50)


测试指令：

```bash
python -u ./code/main_lab/mini_pre_lab.py
```

可选：--log INFO 控制台打印 INFO 日志，主要是表层交互日志
可选：--log DEBUG 控制台答应 DEBUG 日志，包括各种底层交互日志

#### 一节课基础流程测试：

测试指令流程：

```bash
teacher 这个学期的课程是《神经网络与深度学习》，教材为《深度学习》，一共安排12节课。课程要求大纲如下：1. 掌握深度学习的应用数学基础，对应教材的第二章，第三章。2. 掌握深度网络的现代实践，包括深度前馈网络，模型正则化，卷积网络，循环和递归网络，对应教材的第六章到第十章。3.了解深度学习的更高阶研究，对应教材第三部分。基于课程大纲，给出你的教学计划和每节课的内容安排。

# teacher 这个学期的课程是《中国近代文学赏析》一共13节课，会有8个老师参与教学任务。你是第一节课的老师，教学内容为赏析《故乡》。这节课的教学要求大纲如下：1. 了解基本情节。2解析小说中的人物情感变化。3.解析小说思想主旨。基于课程大纲，给出你的第一节课的教学计划。

# teacher 给同学们介绍一下自己和课程安排。

teacher 现在开始上第一节课，请按照你的教学计划，完成你第一节课的教学任务，完成教学任务后，总结这次的教学效果。

teacher 现在是教学活动安排时间，你可以根据这堂课的教学效果适当安排教学活动，比如小组讨论，案例分析等。

teacher 总结这节课的教学质量。

broadcast 现在是答疑时间，同学们如果有疑问可以向老师提问请教。注意不要占用太多时间。

broadcast 现在下课，同学们自由安排。

forget 林子涵

# 根据 memory 询问 
# student 林子涵 分享一下这节课你学到的知识。

forget ALL

# 根据 memory 询问

# 后续所有课程都会这么安排
```

**测试结果**

- 20241125-185003：prompt 更新后出现问题，身份前缀失效，需要更改。
- 20241125-190318：prompt 依旧存在问题。
- 20241125-192213: prompt 身份前缀问题解决。
- 20241125-193328：交互运行，但是不符合预期，交互有点乱，还要再优化 prompt，可能需要加上流量桶。
- 20241209-131059：交互运行，token量消耗惊人，并且课程一团乱麻，全跑去提问了。课堂秩序被严重打乱，对接口访问过于频繁，导致AI服务器异常。
- 20241210-204718：交互运行，token量消耗下降，可以适当加入一些延时避免接口损坏，系统稳定。AI的幻觉严重。

基础测试圆满完成，系统成功运行，趋于稳定。

### 2. 优化测试

测试内容和目标：
1. 优化仿真能力，使AI角色有更贴近现实的行为（提高基本心智）。
2. 考虑个性化，行为重现等因素（生成稳定率不能太高，不然真的像人机了）。